<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ansuz – Аккаунт</title>
    <link rel="stylesheet" href="css/styles.css" />
    <style>
      @keyframes premiumShimmer {
        0%   { background-position: 0% 50%; }
        50%  { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
      .premium-username {
        background: linear-gradient(
          45deg,
          #752483,
          #962ea8,
          #d5b2ff,
          #962ea8,
          #752483
        );
        background-size: 300% 300%;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: premiumShimmer 5s ease infinite;
      }
    </style>
    <link rel="icon" type="image/png" href="icons/icon.png" />
    <link rel="apple-touch-icon" href="icons/icon.png" />
    <meta name="theme-color" content="#bb86fc" />
    <meta name="msapplication-TileColor" content="#bb86fc" />
    <meta name="msapplication-TileImage" content="icons/icon.png" />
    <script>
      if (!localStorage.getItem("ansuz_session"))
        location.replace("login.html");
    </script>
  </head>
  <body>
    <div class="container">
      <header class="header">
  <a href="index.html" class="header-logo">
    <img
      src="icons/ansuz.svg"
      alt="icon"
      height="32px"
      style="margin-right: 10px"
    />
    <h1>Ansuz</h1>
  </a>
  <nav>
    <a href="index.html" class="nav-link" data-page="index">Главная</a>
    <a href="about.html" class="nav-link" data-page="about">О нас</a>
    <a href="app.html" class="nav-link" data-page="app">О приложении</a>
    <a href="download.html" class="nav-link" data-page="download">Скачать</a>
    <a href="account.html" class="nav-link active" data-page="account" id="navAccount"
      >Аккаунт</a
    >
  </nav>
</header>

      <main>
        <section class="auth-section">
          <div class="auth-container" style="max-width: 675px;">
            <div id="accountView">
              <div class="account-avatar" id="accountAvatar">?</div>

              <h1 id="accountUsername" style="margin: 16px 0 4px">—</h1>
              <p
                id="accountEmail"
                style="color: var(--text-secondary); margin: 0 0 15px"
              >
                —
              </p>

              <div class="account-info-grid">
                <div class="account-info-card">
                  <span class="account-info-label">Имя</span>
                  <span class="account-info-value" id="accountFirstName"
                    >—</span
                  >
                </div>
                <div class="account-info-card">
                  <span class="account-info-label">Фамилия</span>
                  <span class="account-info-value" id="accountLastName">—</span>
                </div>
                <div class="account-info-card" style="grid-column: 1 / -1">
                  <span class="account-info-label">Email</span>
                  <span class="account-info-value" id="accountEmailFull"
                    >—</span
                  >
                </div>
              </div>

              <div
                style="
                  margin-top: 15px;
                  height: 60px;
                  display: flex;
                  gap: 12px;
                "
              >
                <button id="premiumBtn" class="btn btn-secondary" style="width: 60px; padding: 0; display: flex; align-items: center; justify-content: center;" onclick="openPremiumModal()">
                  <img id="premiumIcon" src="icons/premiumN.svg" alt="prem" height="32px">
                </button>
                <button class="btn btn-secondary" onclick="openEditModal()">
                  Редактировать профиль
                </button>
                <button
                  class="btn btn-secondary" onclick="handleProjectsStub()"
                >
                  Мои проекты
                </button>
                <button class="btn btn-secondary" onclick="handleLogout()">
                  Выйти
                </button>
              </div>
          </div>
        </section>
      </main>

      <div id="editModal" class="modal">
        <div class="modal-content" style="max-width: 480px">
          <span
            class="close-modal"
            onclick="closeEditModal()"
            style="font-size: 22px; cursor: pointer"
            >✕</span
          >
          <h2 style="color: #bb86fc; margin: 0 0 24px">
            Редактировать профиль
          </h2>
          <form id="editForm">
            <div class="form-group">
              <label for="editUsername">Имя пользователя</label>
              <input
                type="text"
                id="editUsername"
                name="editUsername"
                required
              />
            </div>
            <div class="form-group">
              <label for="editFirstName">Имя</label>
              <input type="text" id="editFirstName" name="editFirstName" />
            </div>
            <div class="form-group">
              <label for="editLastName">Фамилия</label>
              <input type="text" id="editLastName" name="editLastName" />
            </div>
            <div class="form-group">
              <label for="editEmail">Email</label>
              <input type="email" id="editEmail" name="editEmail" required />
            </div>
            <div
              id="editMessage"
              class="auth-message"
              style="display: none; margin-bottom: 16px"
            ></div>
            <div style="display: flex; gap: 12px">
              <button type="submit" class="btn btn-primary" style="flex: 1">
                Сохранить
              </button>
              <button
                type="button"
                class="btn btn-secondary"
                onclick="closeEditModal()"
                style="flex: 1"
              >
                Отмена
              </button>
            </div>
          </form>
        </div>
      </div>

      <div id="logoutModal" class="modal">
        <div class="modal-content" style="max-width: 400px; text-align: center">
          <span
            class="close-modal"
            onclick="closeLogoutModal()"
            style="font-size: 22px; cursor: pointer"
            >✕</span
          >
          <h2 style="color: #bb86fc; margin: 0 0 16px">Выход из аккаунта</h2>
          <p style="color: var(--text-secondary); margin: 0 0 28px">
            Вы уверены, что хотите выйти из аккаунта?
          </p>
          <div style="display: flex; gap: 12px; justify-content: center">
            <button class="btn btn-primary" onclick="confirmLogout()">
              Выйти
            </button>
            <button class="btn btn-secondary" onclick="closeLogoutModal()">
              Отмена
            </button>
          </div>
        </div>
      </div>

      <div id="projectsModal" class="modal">
        <div class="modal-content" style="max-width: 480px; text-align: center">
          <span
            class="close-modal"
            onclick="closeProjectsModal()"
            style="font-size: 22px; cursor: pointer"
            >✕</span
          >
          <h2 style="color: #bb86fc; margin: 0 0 16px">Мои проекты</h2>
          <p style="color: var(--text-secondary); margin: 0">
            Функция находится в разработке.
          </p>
          <p style="color: var(--text-secondary); margin: 0 0 24px">
            Скоро здесь появится список ваших проектов.
          </p>
          <button class="btn btn-primary" onclick="closeProjectsModal()">
            Понятно
          </button>
        </div>
      </div>

      <div id="premiumModal" class="modal">
        <div class="modal-content" style="max-width: 480px; text-align: center">
          <span
            class="close-modal"
            onclick="closePremiumModal()"
            style="font-size: 22px; cursor: pointer"
            >✕</span
          >
          <img src="icons/ansuz_prem.svg" alt="Ansuz Premium" style="width: 340px; margin: 0 auto; display: block;" />
          <h2 style="color: #bb86fc; margin: 0 0 24px 0">Ansuz Premium</h2>

          <div style="text-align: left; background: rgba(187,134,252,0.07); border: 1px solid rgba(187,134,252,0.2); border-radius: 10px; padding: 18px 20px; margin-bottom: 24px;">
            <p style="margin: 0 0 10px; font-weight: 600; color: #bb86fc;">Что входит в Premium:</p>
            <ul style="margin: 0; padding-left: 20px; color: var(--text-secondary); line-height: 1.8;">
              <li>Подписка на 1 месяц</li>
              <li>Синхронизация данных между устройствами</li>
            </ul>
          </div>

          <div id="premiumModalStatus" style="display: none; margin-bottom: 16px;"></div>

          <div style="display: flex; gap: 12px; justify-content: center">
            <button id="premiumActivateBtn" class="btn btn-primary" onclick="handleActivatePremium()">
              Подключить
            </button>
            <button class="btn btn-secondary" onclick="closePremiumModal()">
              Отмена
            </button>
          </div>
        </div>
      </div>
    <footer class="footer">
    <p>
      &copy; 2026 Ansuz. Все права защищены. |
      <a href="terms.html">Условия использования</a> |
      <a href="privacy.html">Политика конфиденциальности</a>
    </p>
  </footer>

    </div>
  </body>

  <script src="scripts/nav.js"></script>
  <script src="scripts/mock-users.js"></script>
  <script src="scripts/auth.js"></script>
  <script src="scripts/account.js"></script>
</html>
